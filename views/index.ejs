<!DOCTYPE html>
<html lang="ru">
  <%- include("./partials/head") %>
  <link rel="stylesheet" href="/css/index.css" />

  <body>
    <%- include("./partials/header") %>
    <main>
      <div class="mainContainer">
        <div
          id="carouselExampleCaptions"
          class="carousel slide"
          data-bs-ride="carousel"
        >
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img
                style="height: 500px; object-fit: cover"
                src="/uploads/<%= mainPage.carouselPhoto1 %>"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption fontStyle">
                <h5 class="animate__animated animate__backInLeft">
                  <%= mainPage.carouselTitle1 %>
                </h5>
                <p class="animate__animated animate__backInLeft">
                  <%= mainPage.carouselSubtitle1 %>
                </p>
              </div>
            </div>
            <div class="carousel-item">
              <img
                style="height: 500px; object-fit: cover"
                src="/uploads/<%= mainPage.carouselPhoto2 %>"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption fontStyle">
                <h5 class="animate__animated animate__backInLeft">
                  <%= mainPage.carouselTitle2 %>
                </h5>
                <p class="animate__animated animate__backInLeft">
                  <%= mainPage.carouselSubtitle2 %>
                </p>
              </div>
            </div>
            <div class="carousel-item">
              <img
                style="height: 500px; object-fit: cover"
                src="/uploads/<%= mainPage.carouselPhoto3 %>"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption fontStyle">
                <h5 class="animate__animated animate__backInLeft">
                  <%= mainPage.carouselTitle3 %>
                </h5>
                <p class="animate__animated animate__backInLeft">
                  <%= mainPage.carouselSubtitle3 %>
                </p>
              </div>
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Предыдущий</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Следующий</span>
          </button>
        </div>
        <div class="parallax">
          <div class="container mt-4 info-section">
            <div
              class="container mt-4 into-info-section wow animate__animated animate__fadeInLeft"
              data-wow-duration="1s"
              data-wow-delay="0.8s"
            >
              <h2 style="color: #ffa400">О сайте</h2>
              <p>
                Наш сайт представляет собой информационный ресурс о
                достопримечательностях и маршрутах.
              </p>
              <p>
                Вы можете добавить в избранное и прокомментировать понравившиеся
                объекты.
              </p>
            </div>
          </div>
        </div>
        <div class="best-routes-section">
          <div class="heading-container">
            <div
              class="wow animate__animated animate__bounce"
              data-wow-duration="1s"
              data-wow-delay="0.5s"
            >
              <span class="subheading"
                >Вы готовы отправиться в путешествие?</span
              >
            </div>
            <h1>Наши лучшие маршруты</h1>
            <p>
              Откройте для себя лучшие маршруты Выборга! Мы отобрали три
              уникальных маршрута, позволяющих погрузиться в атмосферу
              удивительных мест и открыть для себя новые достопримечательности!
            </p>
          </div>
          <div class="routes">
            <% if (routes[0]) { %>
            <div
              class="route wow animate__animated animate__bounceInUp"
              data-wow-duration="1s"
              data-wow-delay="0.5s"
            >
              <div class="card">
                <div class="card-front">
                  <img
                    src="/uploads/<%= routes[0].photo %>"
                    alt="<%= routes[0].name %>"
                    class="route-image"
                  />
                  <h3><%= routes[0].name %></h3>
                </div>
                <div class="card-back">
                  <p><%= routes[0].description %></p>
                  <a href="/routes/<%= routes[0].id %>">
                    <button class="cta-button animate__animated">
                      Перейти
                    </button>
                  </a>
                </div>
              </div>
            </div>
            <% } %> <% if (routes[1]) { %>
            <div
              class="route wow animate__animated animate__bounceInUp"
              data-wow-duration="1s"
              data-wow-delay="0.6s"
            >
              <div class="card">
                <div class="card-front">
                  <img
                    src="/uploads/<%= routes[1].photo %>"
                    alt="<%= routes[1].name %>"
                    class="route-image"
                  />
                  <h3><%= routes[1].name %></h3>
                </div>
                <div class="card-back">
                  <p><%= routes[1].description %></p>
                  <a href="/routes/<%= routes[1].id %>">
                    <button class="cta-button animate__animated">
                      Перейти
                    </button>
                  </a>
                </div>
              </div>
            </div>
            <% } %> <% if (routes[2]) { %>
            <div
              class="route wow animate__animated animate__bounceInUp"
              data-wow-duration="1s"
              data-wow-delay="0.7s"
            >
              <div class="card">
                <div class="card-front">
                  <img
                    src="/uploads/<%= routes[2].photo %>"
                    alt="<%= routes[2].name %>"
                    class="route-image"
                  />
                  <h3><%= routes[2].name %></h3>
                </div>
                <div class="card-back">
                  <p><%= routes[2].description %></p>
                  <a href="/routes/<%= routes[2].id %>">
                    <button class="cta-button animate__animated">
                      Перейти
                    </button>
                  </a>
                </div>
              </div>
            </div>
            <% } %>
          </div>
        </div>
      </div>
    </main>
    <%- include("./partials/footer") %> <%- include("./partials/script") %>
    <script>
      new WOW().init();
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const cards = document.querySelectorAll(".route");

        cards.forEach((card) => {
          card.addEventListener("click", function () {
            const innerCard = this.querySelector(".card");
            innerCard.classList.toggle("is-flipped");
          });
        });
      });
    </script>
  </body>
</html>
